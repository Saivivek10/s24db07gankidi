extends layout

block content
  h1= title
  p Welcome to #{title}

  - let create = `dispatch("/gun/create")`
  button.btn(class="btn-secondary ml-1", onclick=create) Create

  - let item = results

  div(class="container-fluid")
    div(class="row m-1")
      each item, index in results
        div(class="col-sm-2")
          ul
            li #{item.gun_type}
            li #{item.Manufacturer}
            li #{item.Caliber}
          button.btn(class="btn-secondary ml-1", onclick=`dispatch("/gun/update?id=${item._id}")`) Update
          button.btn(class="btn-secondary ml-1", onclick=`dispatch("/gun/detail?id=${item._id}")`) Detail
          button.btn(class="btn-secondary ml-1", onclick=`dispatch("/gun/delete?id=${item._id}")`) Delete

  script.
    function dispatch(path) {
      window.location.href = path
    }
